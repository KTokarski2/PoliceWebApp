<%- include('../../fragments/header.ejs') %>

<main>
  <h2><%= __('case.list.name')%></h2>
  <table class="table-list">
    <thead>
    <tr>
      <th><%= __('case.fields.name')%></th>
      <th><%= __('case.fields.startingDate')%></th>
      <% if (loggedUser) { %>
        <th><%= __('list.actions.title')%></th>
      <% } %>
    </tr>
    </thead>
    <tbody>
    <% for (let c of cases) { %>
    <tr>
      <td><%= c.name %></td>
      <td><%= c.startingDate.toISOString().split('T')[0] %></td>
      <% if (loggedUser) { %>
        <td>
          <ul class="list-actions">
            <li><a class="list-actions-button-details" href="/Case/details/<%= c._id %>"><span class="material-symbols-outlined">info</span></a></li>
            <li><a class="list-actions-button-edit" href="/Case/edit/<%= c._id %>"><span class="material-symbols-outlined">edit_square</span></a></li>
            <li><a class="list-actions-button-delete" href="/Case/delete/<%= c._id %>"><span class="material-symbols-outlined">delete</span></a></li>
          </ul>
        </td>
      <% } %>
    </tr>
    <% } %>
    </tbody>
  </table>
  <% if (loggedUser) { %>
    <p><a class="button-add" href="/Case/add"><%= __('case.form.add.btnLabel') %></a></p>
  <% } %>
</main>

<%- include('../../fragments/footer.ejs') %>